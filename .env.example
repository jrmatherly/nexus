# Nexus Configuration Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# NEXUS SERVER CONFIGURATION
# =============================================================================

# Port to expose Nexus on the host (maps to container port 3000)
NEXUS_PORT=8000

# =============================================================================
# LLM PROVIDER API KEYS
# Configure the LLM providers you want to use
# =============================================================================

# OpenAI API Key - Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_API_BASE_URL=https://api.openai.com/v1

# Anthropic API Key - Get from https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Google AI API Key - Get from https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-ai-key-here

# AWS Credentials for Bedrock (alternative: use AWS profiles)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# =============================================================================
# MCP SERVER AUTHENTICATION
# Configure authentication tokens for external MCP servers
# =============================================================================

# GitHub Token for GitHub Copilot MCP server
# Get from https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your-github-token-here

# Add other MCP server tokens as needed
# SOME_SERVICE_TOKEN=your-token-here

# =============================================================================
# OAUTH2 AUTHENTICATION (OPTIONAL)
# Enable JWT-based authentication for production deployments
# =============================================================================

# OAuth2 JWKS URL for token validation
# OAUTH2_JWKS_URL=https://your-oauth-provider.com/.well-known/jwks.json

# Expected JWT issuer claim
# OAUTH2_EXPECTED_ISSUER=https://your-oauth-provider.com

# Expected JWT audience claim
# OAUTH2_EXPECTED_AUDIENCE=your-service-audience

# =============================================================================
# REDIS CONFIGURATION
# For distributed rate limiting and caching
# =============================================================================

# Redis connection URL (uses docker-compose redis service by default)
REDIS_URL=redis://redis:6379

# Redis port to expose on host (optional, for external access)
REDIS_PORT=6379

# =============================================================================
# TELEMETRY AND OBSERVABILITY
# =============================================================================

# OpenTelemetry Collector endpoint for metrics export
# OTLP_ENDPOINT=http://otel-collector:4317

# Service name for telemetry (helps identify your Nexus instance)
TELEMETRY_SERVICE_NAME=nexus-production

# OpenTelemetry Collector ports (for external collectors)
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318

# =============================================================================
# DEVELOPMENT/TESTING SERVICES
# Enable these profiles for development: docker-compose --profile oauth up
# =============================================================================

# Hydra OAuth2 Server ports (for testing OAuth2 flows)
HYDRA_PUBLIC_PORT=4444
HYDRA_ADMIN_PORT=4445

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================

# These variables may change based on deployment environment

# Production
# NEXUS_PORT=80
# REDIS_URL=redis://your-production-redis:6379
# TELEMETRY_SERVICE_NAME=nexus-prod
# OTLP_ENDPOINT=https://your-otel-collector:4317

# Staging
# NEXUS_PORT=8080
# TELEMETRY_SERVICE_NAME=nexus-staging

# Development
# NEXUS_PORT=3000
# TELEMETRY_SERVICE_NAME=nexus-dev

# =============================================================================
# DOCKER COMPOSE PROFILES
# =============================================================================
# Use these profiles to enable optional services:
#
# Basic setup (Nexus + Redis):
# docker-compose up
#
# With OAuth2 testing:
# docker-compose --profile oauth up
#
# With observability:
# docker-compose --profile observability up
#
# Full setup:
# docker-compose --profile oauth --profile observability up